##### _разработка Sayfullin R.R.

Инструкция актуальна для Linux-систем.
========================================================================================================================
Используемые технологии:
    python = "^3.9"
    Django = "^4.1"
    Celery = "^5.2.7"
    flower = "^1.2.0"
    redis = "^4.5.1"
    pillow = "^9.4.0"
    PostgreSQL

Скопируйте репозиторий с помощью команды:
$ git clone https://github.com/RuslanSayfullin/django_celery.git
Перейдите в основную директорию с помощью команды: 
$ cd django_celery

Создать и активировать виртуальное окружение:
========================================================================================================================
$ poetry env use python3.9
Установить зависимости:
$ poetry install 
Сохранить, адрес созданного виртуального окружения из вывода(рекомендуется)
$ poetry shell
(web-py3.9) $
Выход:
$ exit

Добавить в директорию django_celery/backend файл psw.py
========================================================================================================================
В данный файл, необходимо добавить две переменные:

secret_key = 'ваш секретный ключ'   # секретный ключ приложения
dbase_psw = 'ваш ключ к БД'         # Пароль для подключения к БД

Создание БД
========================================================================================================================
$ sudo su - postgres
Теперь запускаем командную оболочку PostgreSQL:
$ psql 

=# CREATE DATABASE django_celery;
=# CREATE USER portaluser WITH PASSWORD 'myPassword';
=# GRANT ALL PRIVILEGES ON DATABASE django_celery TO portaluser;
=# \q
$ exit

Перейти в директорию django_celery
========================================================================================================================
Для запуска выполнить следующие команды:
Команда для создания миграций приложения для базы данных
$ python3 manage.py makemigrations
$ python3 manage.py migrate

Создание суперпользователя
$ python3 manage.py createsuperuser

Будут выведены следующие выходные данные. Введите требуемое имя пользователя, электронную почту и пароль:
по умолчанию почта admin@admin.com пароль: 12345

Username (leave blank to use 'admin'): admin
Email address: admin@admin.com
Password: ********
Password (again): ********
Superuser created successfully.

В проекте используется Redis, и как брокер сообщений, и серверная часть базы данных.
========================================================================================================================
Установите Redis в своей системе.


Запуск программы.
========================================================================================================================
Откройте три отдельных окна терминала и запустите все программы:
    Отправьте свое веб-приложение на сервер разработки Django в первом окне:
        $ python3 manage.py runserver
    Затем запустите сервер Redis во втором окне терминала:
        $ redis-server
    Запустите сервер Celery во третьем окне терминала:
        $ python3 -m celery -A backend worker -l info
        


Django-приложение будет доступно по адресу: http://127.0.0.1:8000/


# Источник
========================================================================================================================
https://proglib.io/p/django-celery-i-redis-gayd-po-rabote-s-asinhronnymi-zadachami-2022-08-22